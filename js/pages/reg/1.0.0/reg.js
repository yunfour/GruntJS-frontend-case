/*! gruntTest 2014-08-05 */
define("pages/reg/1.0.0/reg-debug",["$-debug","components/vScroll/0.0.1/vScroll-debug","components/tab/1.0.1/tab-debug","common/validateForm/0.0.1/validateForm-debug","pages/config/1.0.0/config-debug"],function(a){var b=a("$-debug"),c=(a("components/vScroll/0.0.1/vScroll-debug"),a("components/tab/1.0.1/tab-debug"),a("common/validateForm/0.0.1/validateForm-debug")),d=a("pages/config/1.0.0/config-debug"),e=(b(window),b("#J-regFrm")),f=e.find("input[name=role]"),g=b("#username"),h=b("#email"),i=b("#password"),j=(b("#confirmPassword"),b("#checkCode")),k=b("#J-regFrmChkCode"),l=b("#J-refreshChkcode"),m=e.find("input[name=accountType]"),n=b("#companyName"),o=b("#telephone"),p=b("#bankAccount"),q=b("#bank"),r=b("#name"),s=b("#idNum"),t=b("#mobile"),u=b("#bankOfPerson"),v=b("#bankAccountOfPerson"),w=b("#J-roleCheckboxPanel"),x=b("#J-companyInfo"),y=b("#J-personalInfo"),z=e.find("input[type=submit]"),A={role:{required:!0,emptyTip:"请选择角色！"},username:{defaultTip:"用户名作为登录帐号，6-25个字符",required:!0,emptyTip:"用户名不能为空！",asyncVali:{url:"http://localhost:8089/push/html/jsp/test-01.jsp",paramName:"uname",successTip:"该用户名可以使用"},patterns:[{pattern:function(a){return a.length>=6},noMatchTip:"不能少于6个字符！"},{pattern:function(a){return a.length<=25},noMatchTip:"不能多于25个字符！"},{pattern:function(a){var b=/^[A-Za-z0-9]+$/.test(a);return b},noMatchTip:"您输入的用户名格式错误！"}]},email:{defaultTip:"相关通知会发送至该邮箱，该邮箱作为登录帐号",emptyTip:"请填写有效的Email地址！",required:!0,asyncVali:{url:"http://localhost:8089/push/html/jsp/test-01.jsp",successTip:"该邮箱可以使用"},patterns:[{pattern:d.regExp.email,noMatchTip:"您输入的邮箱格式错误！"}]},password:{defaultTip:"8-16个字符（不能使用单纯字母或单纯数字）",emptyTip:"请输入密码！",required:!0,patterns:[{pattern:function(a){return a.length>=8&&a.length<=16},noMatchTip:"长度应为8-16个字符！"},{pattern:function(a){return!/^[0-9]+$/.test(a)},noMatchTip:"不能全为数字！"},{pattern:function(a){return!/^[a-z]+$/.test(a)&&!/^[A-Z]+$/.test(a)},noMatchTip:"不能全为字母！"}]},confirmPassword:{defaultTip:"请再次填写密码",emptyTip:"请输入确认密码！",required:!0,compare:{fieldName:"password",compareFn:function(a,b){return a===b},failedTip:"两次填写的密码不一致"}},checkCode:{defaultTip:"验证码为四位字符",required:!0,emptyTip:"请输入图片中的字符！",patterns:[{pattern:function(a){return 4===a.length},noMatchTip:"验证码为4个字符！"}]},companyName:{defaultTip:"最少6个汉字，如杭州斯凯网络科技有限公司",patterns:[{pattern:/^[\u4e00-\u9fa5]{6,}$/,noMatchTip:"长度不能少于6个汉字"}]},telephone:{defaultTip:"固定电话或手机号码",patterns:[{pattern:function(a){var b=a.length;return b>=11&&15>=b},noMatchTip:"长度应为11-15位数字"},{pattern:function(a){return d.regExp.telephone.test(a)||d.regExp.mobile.test(a)},noMatchTip:"请输入真实有效的联系电话"}]},name:{defaultTip:"请填写中文姓名，最少2个汉字",patterns:[{pattern:/^[\u4e00-\u9fa5]{1,}$/,noMatchTip:"联系人姓名必须是中文"},{pattern:function(a){return a.length>=2},noMatchTip:"长度不能少于2个汉字"}]},idNum:{patterns:[{pattern:d.regExp.idCard,noMatchTip:"身份证格式错误"}]},mobile:{patterns:[{pattern:d.regExp.mobile,noMatchTip:"请输入真实有效的手机号码"}]}},B=c.showExplain,C=c.showDefaultTip,D=c.valiFn,E=c.isPassVali,F=c.goVali,G=function(){var a={},c=[];return f.each(function(){var a=b(this);a.attr("checked")&&c.push(a.val())}),a.role=c.join(","),a.userName=b.trim(g.val()),a.email=b.trim(h.val()),a.password=b.trim(i.val()),a.checkCode=b.trim(j.val()),a.accountType=m.filter(":checked").val(),"company"===a.accountType?(a.companyName=b.trim(n.val()),a.telephone=b.trim(o.val()),a.bank=b.trim(q.val()),a.bankAccount=b.trim(p.val())):(a.name=b.trim(r.val()),a.idNum=b.trim(s.val()),a.mobile=b.trim(t.val()),a.bankOfPerson=b.trim(u.val()),a.bankAccountOfPerson=b.trim(v.val())),a};w.delegate("span.reg-checkbox","click",function(){var a=b(this),c=a.children("input[name=role]"),d="reg-checkbox-checked",e=a.hasClass(d);e?(a.removeClass(d),c.removeAttr("checked")):(a.addClass(d),c.attr("checked","checked")),D(f,A.role)}),l.on("click",function(){var a=k.attr("src");a=a.split("?")[0],a=a+"?r="+Math.random(),k.attr("src",a)}),m.on("click",function(){var a=m.filter(":checked").val();"company"===a?(y.hide(),x.show()):"person"===a&&(y.show(),x.hide())}),e.delegate("input","focus",function(){var a=b(this),c=a.attr("name"),d=A[c];d&&d.defaultTip&&C(a,d.defaultTip)}),e.delegate("input","blur",function(){var a=b(this),c=a.attr("name");D(this,A[c])}),e.on("submit",function(){var a=function(){var a=!0,b=E(e,A);if(b.isPass)a=!0;else{var c;F(e,A);for(var d=0,f=b.notPassFieldsName.length;f>d;d++)if(c=b.notPassFieldsName[d],"company"===m.filter(":checked").val()){if("name"!==c&&"idNum"!==c&&"mobile"!==c){a=!1;break}}else if("companyName"!==c&&"telephone"!==c){a=!1;break}}return a};return z.hasClass("com-btn-disable")?!1:(B(z,!1),a()?(z.addClass("com-btn-disable").val("注册中..."),b.post("jsp/reg.jsp",G(),function(a){z.removeClass("com-btn-disable").val("      注    册      "),"1"!==a.status?B(z,!0,"warn",a.message):(B(z,!0,"success","注册成功"),location.href="reg-success.html")},"JSON")):B(z,!0,"warn","请正确输入以上信息"),!1)})}),define("pages/reg/1.0.0/reg",["$","components/vScroll/0.0.1/vScroll","components/tab/1.0.1/tab","common/validateForm/0.0.1/validateForm","pages/config/1.0.0/config"],function(a){var b=a("$"),c=(a("components/vScroll/0.0.1/vScroll"),a("components/tab/1.0.1/tab"),a("common/validateForm/0.0.1/validateForm")),d=a("pages/config/1.0.0/config"),e=(b(window),b("#J-regFrm")),f=e.find("input[name=role]"),g=b("#username"),h=b("#email"),i=b("#password"),j=(b("#confirmPassword"),b("#checkCode")),k=b("#J-regFrmChkCode"),l=b("#J-refreshChkcode"),m=e.find("input[name=accountType]"),n=b("#companyName"),o=b("#telephone"),p=b("#bankAccount"),q=b("#bank"),r=b("#name"),s=b("#idNum"),t=b("#mobile"),u=b("#bankOfPerson"),v=b("#bankAccountOfPerson"),w=b("#J-roleCheckboxPanel"),x=b("#J-companyInfo"),y=b("#J-personalInfo"),z=e.find("input[type=submit]"),A={role:{required:!0,emptyTip:"请选择角色！"},username:{defaultTip:"用户名作为登录帐号，6-25个字符",required:!0,emptyTip:"用户名不能为空！",asyncVali:{url:"http://localhost:8089/push/html/jsp/test-01.jsp",paramName:"uname",successTip:"该用户名可以使用"},patterns:[{pattern:function(a){return a.length>=6},noMatchTip:"不能少于6个字符！"},{pattern:function(a){return a.length<=25},noMatchTip:"不能多于25个字符！"},{pattern:function(a){var b=/^[A-Za-z0-9]+$/.test(a);return b},noMatchTip:"您输入的用户名格式错误！"}]},email:{defaultTip:"相关通知会发送至该邮箱，该邮箱作为登录帐号",emptyTip:"请填写有效的Email地址！",required:!0,asyncVali:{url:"http://localhost:8089/push/html/jsp/test-01.jsp",successTip:"该邮箱可以使用"},patterns:[{pattern:d.regExp.email,noMatchTip:"您输入的邮箱格式错误！"}]},password:{defaultTip:"8-16个字符（不能使用单纯字母或单纯数字）",emptyTip:"请输入密码！",required:!0,patterns:[{pattern:function(a){return a.length>=8&&a.length<=16},noMatchTip:"长度应为8-16个字符！"},{pattern:function(a){return!/^[0-9]+$/.test(a)},noMatchTip:"不能全为数字！"},{pattern:function(a){return!/^[a-z]+$/.test(a)&&!/^[A-Z]+$/.test(a)},noMatchTip:"不能全为字母！"}]},confirmPassword:{defaultTip:"请再次填写密码",emptyTip:"请输入确认密码！",required:!0,compare:{fieldName:"password",compareFn:function(a,b){return a===b},failedTip:"两次填写的密码不一致"}},checkCode:{defaultTip:"验证码为四位字符",required:!0,emptyTip:"请输入图片中的字符！",patterns:[{pattern:function(a){return 4===a.length},noMatchTip:"验证码为4个字符！"}]},companyName:{defaultTip:"最少6个汉字，如杭州斯凯网络科技有限公司",patterns:[{pattern:/^[\u4e00-\u9fa5]{6,}$/,noMatchTip:"长度不能少于6个汉字"}]},telephone:{defaultTip:"固定电话或手机号码",patterns:[{pattern:function(a){var b=a.length;return b>=11&&15>=b},noMatchTip:"长度应为11-15位数字"},{pattern:function(a){return d.regExp.telephone.test(a)||d.regExp.mobile.test(a)},noMatchTip:"请输入真实有效的联系电话"}]},name:{defaultTip:"请填写中文姓名，最少2个汉字",patterns:[{pattern:/^[\u4e00-\u9fa5]{1,}$/,noMatchTip:"联系人姓名必须是中文"},{pattern:function(a){return a.length>=2},noMatchTip:"长度不能少于2个汉字"}]},idNum:{patterns:[{pattern:d.regExp.idCard,noMatchTip:"身份证格式错误"}]},mobile:{patterns:[{pattern:d.regExp.mobile,noMatchTip:"请输入真实有效的手机号码"}]}},B=c.showExplain,C=c.showDefaultTip,D=c.valiFn,E=c.isPassVali,F=c.goVali,G=function(){var a={},c=[];return f.each(function(){var a=b(this);a.attr("checked")&&c.push(a.val())}),a.role=c.join(","),a.userName=b.trim(g.val()),a.email=b.trim(h.val()),a.password=b.trim(i.val()),a.checkCode=b.trim(j.val()),a.accountType=m.filter(":checked").val(),"company"===a.accountType?(a.companyName=b.trim(n.val()),a.telephone=b.trim(o.val()),a.bank=b.trim(q.val()),a.bankAccount=b.trim(p.val())):(a.name=b.trim(r.val()),a.idNum=b.trim(s.val()),a.mobile=b.trim(t.val()),a.bankOfPerson=b.trim(u.val()),a.bankAccountOfPerson=b.trim(v.val())),a};w.delegate("span.reg-checkbox","click",function(){var a=b(this),c=a.children("input[name=role]"),d="reg-checkbox-checked",e=a.hasClass(d);e?(a.removeClass(d),c.removeAttr("checked")):(a.addClass(d),c.attr("checked","checked")),D(f,A.role)}),l.on("click",function(){var a=k.attr("src");a=a.split("?")[0],a=a+"?r="+Math.random(),k.attr("src",a)}),m.on("click",function(){var a=m.filter(":checked").val();"company"===a?(y.hide(),x.show()):"person"===a&&(y.show(),x.hide())}),e.delegate("input","focus",function(){var a=b(this),c=a.attr("name"),d=A[c];d&&d.defaultTip&&C(a,d.defaultTip)}),e.delegate("input","blur",function(){var a=b(this),c=a.attr("name");D(this,A[c])}),e.on("submit",function(){var a=function(){var a=!0,b=E(e,A);if(b.isPass)a=!0;else{var c;F(e,A);for(var d=0,f=b.notPassFieldsName.length;f>d;d++)if(c=b.notPassFieldsName[d],"company"===m.filter(":checked").val()){if("name"!==c&&"idNum"!==c&&"mobile"!==c){a=!1;break}}else if("companyName"!==c&&"telephone"!==c){a=!1;break}}return a};return z.hasClass("com-btn-disable")?!1:(B(z,!1),a()?(z.addClass("com-btn-disable").val("注册中..."),b.post("jsp/reg.jsp",G(),function(a){z.removeClass("com-btn-disable").val("      注    册      "),"1"!==a.status?B(z,!0,"warn",a.message):(B(z,!0,"success","注册成功"),location.href="reg-success.html")},"JSON")):B(z,!0,"warn","请正确输入以上信息"),!1)})});