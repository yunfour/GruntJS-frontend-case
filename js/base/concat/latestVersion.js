/*! gruntTest 2015-01-26 */
define("base/attribute/0.0.1/attribute",["base/createClass/1.0.2/createClass","base/pubSub/1.0.3/pubSub"],function(a){{var b=a("base/createClass/1.0.2/createClass"),c=a("base/pubSub/1.0.3/pubSub");b({superClass:[c],init:function(){},methods:{getAttr:function(){},setAttr:function(){}}})}}),define("base/createClass/1.0.0/createClass",[],function(){var a=function(a){var b,c=a.methods,d=function(){var b=this;"function"==typeof a.superClass&&a.superClass.apply(b,arguments),"function"==typeof a.init&&a.init.apply(b,arguments)};if("function"==typeof a.superClass){var e=function(){};e.prototype=a.superClass.prototype,d.prototype=new e,d.prototype._superClass=a.superClass}else d.prototype._superClass=Object;if(b=d.fn=d.prototype,b.setAttr=function(a,b){var c=this,d={};if(c._attr&&"object"==typeof c._attr||(c._attr={}),"object"==typeof a?d=a:"string"==typeof a&&(d[a]=b),d)for(var e in d)d.hasOwnProperty(e)&&(c._attr[e]=d[e]);return c},b.getAttr=function(a){var b,c=this;if("string"!=typeof a)throw new Error("方法 getAttr() 的参数 attrName 必须为字符串类型");return"object"==typeof c._attr&&(b=c._attr[a]),b},c&&"object"==typeof c)for(var f in c)"function"==typeof c[f]&&c.hasOwnProperty(f)&&(b[f]=c[f]);return d};return a}),define("base/dateFormat/0.0.1/dateFormat",[],function(){var a=function(a,b){if(a.constructor!==Date)throw new Error("函数：dateFormat(theDate, formatStr)的参数 theDate 必须为 Date 的实例.");var c={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"S+":a.getMilliseconds()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var d in c)new RegExp("("+d+")").test(b)&&(b=b.replace(RegExp.$1,1===RegExp.$1.length?c[d]:("00"+c[d]).substr((""+c[d]).length)));return b};return a}),define("base/promise/0.0.1/promise",["base/createClass/1.0.2/createClass","base/pubSub/1.0.3/pubSub"],function(a){function b(){var a=new i;return j(function(b){b.r>1e4?a.resolve(b):a.reject(b)}),a.getAttr("promise")}var c=a("base/createClass/1.0.2/createClass"),d=a("base/pubSub/1.0.3/pubSub"),e=0,f=1,g=2,h=c({superClass:d,methods:{then:function(a,b){return"function"==typeof a&&this.once("resolve",a),"function"==typeof b&&this.once("reject",b),this}}}),i=c({init:function(){var a=new h;this.setAttr("promise",a),this.setAttr("state",e)},methods:{resolve:function(a){var b=this.getAttr("promise");return b.trigger("resolve",a),this.setAttr("state",f),this},reject:function(a){var b=this.getAttr("promise");return b.trigger("reject",a),this.setAttr("state",g),this}}}),j=function(a){setTimeout(function(){var b={date:new Date,r:parseInt(1e5*Math.random())};"function"==typeof a&&a(b)},5e3)};return b().then(function(a){console.log("Resolve"),console.log(a)},function(a){console.log("Reject"),console.log(a)}),i}),define("base/pubSub/1.0.0/pubSub",["base/createClass/1.0.1/createClass"],function(a){var b=a("base/createClass/1.0.1/createClass"),c=b({init:function(){this._events={}},methods:{bind:function(a,b){var c=this;if("string"!=typeof a)throw new Error("方法 bind(eventName, callback) 的参数eventName 必须为字符串");return"object"!=typeof c._events&&(c._events={}),c._events[a]instanceof Array||(c._events[a]=[]),"function"==typeof b&&c._events[a].push(b),c},unbind:function(a,b){var c=this;if(0===arguments.length)c._events=null,c._events={};else if(1===arguments.length){if("string"!=typeof a)throw new Error("方法 unbind(eventName, callback) 的参数 eventName 必须为字符串");c._events&&c._events[a]instanceof Array&&(c._events[a].length=0)}else{if("string"!=typeof a)throw new Error("方法 unbind(eventName, callback) 的参数 eventName 必须为字符串");if(c._events&&c._events[a]instanceof Array)if("function"==typeof b)for(var d=c._events[a],e=d.length-1;e>=0;e--)d[e]===b&&d.splice(e,1);else c._events[a].length=0}},trigger:function(a,b){var c=this;if(c.eventName=a,b=b||c,"string"!=typeof a)throw new Error("方法 trigger(eventName) 的参数eventName 必须为字符串");if(c._events&&c._events[a]instanceof Array)for(var d=0,e=c._events[a].length;e>d;d++)if("function"==typeof c._events[a][d]){var f=c._events[a][d].apply(b,[c]);if(f===!1)break}return this},on:function(a,b){var c=this;return 1===arguments.length?c.trigger(a):arguments.length>1&&c.bind(a,b),c}}});return c}),define("base/singleton/1.0.0/singleton",[],function(){function a(a){var b=a||{};return function(){return b}}return a});